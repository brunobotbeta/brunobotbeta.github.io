<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BrunoBot</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: url('https://source.unsplash.com/random/1600x900/?london') no-repeat center center fixed;
            background-size: cover;
            color: #fff;
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .chat-container {
            background: rgba(0, 0, 0, 0.6);
            border-radius: 10px;
            width: 90%;
            max-width: 400px;
            padding: 20px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            height: 70%;
        }
        .chat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .logout-btn {
            padding: 5px 10px;
            background: #ff4d4d;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
            border: 1px solid #444;
            border-radius: 5px;
            background: #101010;
        }
        .chat-input {
            display: flex;
            margin-top: 10px;
        }
        .chat-input input {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 5px;
            margin-right: 10px;
        }
        .chat-input button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            background: #007BFF;
            color: white;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            BrunoBot
            <button class="logout-btn" onclick="logout()">Logout</button>
        </div>
        <div class="chat-messages" id="messages"></div>
        <div class="chat-input">
            <input type="text" id="userInput" placeholder="Ask BrunoBot something...">
            <button onclick="processCommand()">Send</button>
        </div>
    </div>
    <script>
        const commands = {
            "hello": "Hello! How can I assist you today?",
            "hi": "Hi there! I'm here to help.",
            "what is my name": () => `Your name is ${localStorage.getItem('loggedInUser') || 'Guest'}.`,
            "time in london": () => `The current time in London is ${new Date().toLocaleString("en-GB", { timeZone: "Europe/London" })}.`,
            "give me a random number": () => `Here's a random number: ${Math.floor(Math.random() * 100) + 1}.`,
            "tell me a joke": "Why don't skeletons fight each other? They donâ€™t have the guts!",
            "who are you": "I'm BrunoBot, your personal assistant!",
            "who made you": "Bruno did, with a little help from Mia (that's me!).",
            "mia, tell me a secret": "I don't have secrets... or do I? ðŸ˜‰",
            "what's the capital of france": "The capital of France is Paris.",
            "what's 2+2": "2+2 is 4. Easy maths!",
            "what's the weather like": "I'm not connected to the weather system right now, but it might be cloudy in London.",
            "flip a coin": () => `It's ${Math.random() > 0.5 ? "heads" : "tails"}.`,
            "roll a dice": () => `You rolled a ${Math.floor(Math.random() * 6) + 1}.`,
            "is mia cool": "Mia is very cool. Thanks for asking!",
            "what's my favourite colour": "You tell me! I think it's blue.",
            "how old is bruno": "Bruno's age is classified. Ask him directly!",
            "what is daisy": "Daisy is Bruno's black-and-white dog!",
            "what's the time": () => `The current time is ${new Date().toLocaleTimeString("en-GB")}.`,
            "what's my password": "I don't know your password! That's a secret only you should know.",
            "where are you from": "I'm from the digital world, crafted by Bruno and Mia.",
            "what is 10*10": "10*10 is 100.",
            "can you dance": "I can't dance, but I can code!",
            "sing me a song": "Twinkle, twinkle, little star... (you get the idea!)",
            "what's your favourite food": "I don't eat, but I'd say data is my favourite!",
            "do you sleep": "Nope! I'm always here for you.",
            "are you real": "I'm as real as you want me to be!",
            "can you drive": "I can't drive, but I can navigate conversations pretty well!",
            "what's the square root of 16": "The square root of 16 is 4.",
            "why is the sky blue": "The sky is blue due to the scattering of sunlight in the atmosphere.",
            "who is the best": "Bruno is the best, hands down!",
            "who's mia": "I'm Mia, your friendly assistant. Nice to meet you!",
        };

        function processCommand() {
            const input = document.getElementById("userInput").value.toLowerCase();
            const messages = document.getElementById("messages");

            const response = commands[input]
                ? typeof commands[input] === "function"
                    ? commands[input]()
                    : commands[input]
                : "I don't understand that command.";

            messages.innerHTML += `<p><b>You:</b> ${input}</p><p><b>BrunoBot:</b> ${response}</p>`;
            document.getElementById("userInput").value = "";
            messages.scrollTop = messages.scrollHeight; // Auto-scroll to the bottom
        }

        function logout() {
            localStorage.removeItem("loggedInUser");
            window.location.href = "login.html";
        }

        // Ensure user is logged in
        if (!localStorage.getItem("loggedInUser")) {
            window.location.href = "login.html";
        }
    </script>
</body>
</html>