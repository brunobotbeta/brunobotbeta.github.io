<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BrunoBot</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
        }
        .container {
            width: 90%;
            max-width: 800px;
            margin: 20px auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        header {
            background: #4CAF50;
            color: white;
            padding: 20px;
            text-align: center;
        }
        .chat-box {
            height: 400px;
            overflow-y: auto;
            padding: 10px;
            border-bottom: 1px solid #ddd;
        }
        .chat-box p {
            margin: 5px 0;
        }
        .chat-box .bot {
            color: #4CAF50;
        }
        .chat-box .user {
            color: #333;
            text-align: right;
        }
        .input-section {
            padding: 10px;
            display: flex;
            border-top: 1px solid #ddd;
        }
        .input-section input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-right: 10px;
        }
        .input-section button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
        }
        .input-section button:hover {
            background: #45a049;
        }
        .logout-btn {
            margin: 10px;
            background: #f44336;
            color: white;
            padding: 10px 20px;
            border-radius: 4px;
            border: none;
        }
        .logout-btn:hover {
            background: #d32f2f;
        }
    </style>
</head>
<body>
    <script>
        // Redirect to login.html if user is not logged in
        if (!localStorage.getItem("loggedInUser")) {
            window.location.href = "login.html";
        }
    </script>

    <div class="container">
        <header>
            <h1>Welcome to BrunoBot!</h1>
        </header>
        <div class="chat-box" id="chat-box"></div>
        <div class="input-section">
            <input type="text" id="user-input" placeholder="Type your message here...">
            <button onclick="processInput()">Send</button>
        </div>
        <button class="logout-btn" onclick="logout()">Logout</button>
    </div>

    <script>
        const commands = {
            "hello": "Hello! How can I assist you today?",
            "hi": "Hello! How can I assist you today?",
            "what is my name": function () {
                return `Your name is ${localStorage.getItem('name') || 'Bruno'}.`;
            },
            "time in london": function () {
                return `The current time in London is ${new Date().toLocaleString("en-GB", { timeZone: "Europe/London" })}.`;
            },
            "weather in london": "The weather in London is currently sunny with 15°C.",
            "what is brunle": "Brunle is a word guessing game where you try to guess a 5-letter word!",
            "facts": "Did you know that honey never spoils? Archaeologists have found pots of honey in ancient tombs that are still good to eat!",
            "name my city": function () {
                return `Your favorite city is ${localStorage.getItem('city') || 'London'}.`;
            },
            "what is your name": "I am BrunoBot. Nice to meet you!",
            "help": "You can ask me to tell you the time, weather, facts, play Brunle, and more! Type in a command and I’ll assist.",
            "give me a random number": function () {
                return `Here is a random number: ${Math.floor(Math.random() * 100) + 1}.`;
            },
            "tell me a joke": "Why don't skeletons fight each other? They don’t have the guts!",
            "tell me about the eiffel tower": "The Eiffel Tower is a wrought-iron lattice tower on the Champ de Mars in Paris, France.",
            "tell me a math fact": "Did you know? Pi (π) is an irrational number, which means its decimal representation never ends and never repeats!",
            "what is the tallest mountain": "The tallest mountain on Earth is Mount Everest, standing at 8,848.86 meters (29,031.7 feet).",
            "tell me about world war ii": "World War II was a global war that lasted from 1939 to 1945, involving most of the world's nations.",
            "give me an inspirational quote": "“The only way to do great work is to love what you do.” – Steve Jobs",
            "give me a recipe suggestion": "How about making a delicious Spaghetti Aglio e Olio? It’s simple: spaghetti, garlic, olive oil, red pepper flakes, and parsley.",
            "what is the population of spain": "The current population of Spain is approximately 47 million.",
            "who is nikola tesla": "Nikola Tesla was a Serbian-American inventor and electrical engineer known for his work in the development of alternating current (AC) electricity.",
            "what is the capital of france": "The capital of France is Paris.",
            "tell me about albert einstein": "Albert Einstein was a German-born theoretical physicist best known for developing the theory of relativity, one of the two pillars of modern physics.",
            "give me a random word": function () {
                const words = ['Serendipity', 'Euphoria', 'Bliss', 'Epiphany', 'Resilience'];
                return `Here’s a random word: ${words[Math.floor(Math.random() * words.length)]}.`;
            },
            "what is the largest ocean": "The largest ocean is the Pacific Ocean, covering more than 63 million square miles (165 million square kilometers)."
        };

        function processInput() {
            const input = document.getElementById("user-input").value.toLowerCase().trim();
            const chatBox = document.getElementById("chat-box");
            let response;

            if (commands[input]) {
                response = typeof commands[input] === "function" ? commands[input]() : commands[input];
            } else {
                response = "I'm sorry, I didn't understand that.";
            }

            chatBox.innerHTML += `<p class="user">You: ${input}</p>`;
            chatBox.innerHTML += `<p class="bot">Bot: ${response}</p>`;
            document.getElementById("user-input").value = "";
        }

        function logout() {
            localStorage.removeItem("loggedInUser");
            window.location.href = "login.html";
        }
    </script>
</body>
</html>